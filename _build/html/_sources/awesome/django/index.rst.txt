Django - Webæ¡†æ¶
==============================

:ä¸­æ–‡ç‰ˆ: https://docs.djangoproject.com/zh-hans/3.2/

:github: https://github.com/django/django

æ¨¡å‹å±‚
*************************

å…³è”å¯¹è±¡

* â­ **æ­£å‘è®¿é—®** è‹¥æ¨¡å‹æœ‰ä¸ª ForeignKeyï¼Œè¯¥æ¨¡å‹çš„å®ä¾‹èƒ½é€šè¿‡å…¶å±æ€§è®¿é—®å…³è”ï¼ˆå¤–éƒ¨çš„ï¼‰å¯¹è±¡ã€‚

è§†å›¾å±‚
*************************

URLé…ç½®

------------------------------------------

* **è·¯å¾„è½¬æ¢å™¨**
    - **str** åŒ¹é…é™¤äº† '/' ä¹‹å¤–çš„éç©ºå­—ç¬¦ä¸²ã€‚å¦‚æœè¡¨è¾¾å¼å†…ä¸åŒ…å«è½¬æ¢å™¨ï¼Œåˆ™ä¼šé»˜è®¤åŒ¹é…å­—ç¬¦ä¸²ã€‚
    - **int** åŒ¹é… 0 æˆ–ä»»ä½•æ­£æ•´æ•°ã€‚è¿”å›ä¸€ä¸ª int ã€‚
    - slug  åŒ¹é…ä»»æ„ç”± ASCII å­—æ¯æˆ–æ•°å­—ä»¥åŠè¿å­—ç¬¦å’Œä¸‹åˆ’çº¿ç»„æˆçš„çŸ­æ ‡ç­¾ã€‚æ¯”å¦‚ï¼Œbuilding-your-1st-django-site
    - uuid åŒ¹é…ä¸€ä¸ªæ ¼å¼åŒ–çš„ UUID ã€‚ä¸ºäº†é˜²æ­¢å¤šä¸ª URL æ˜ å°„åˆ°åŒä¸€ä¸ªé¡µé¢ï¼Œå¿…é¡»åŒ…å«ç ´æŠ˜å·å¹¶ä¸”å­—ç¬¦éƒ½ä¸ºå°å†™ã€‚æ¯”å¦‚ï¼Œ075194d3-6885-417e-a8a8-6c931e272f00ã€‚è¿”å›ä¸€ä¸ª UUID å®ä¾‹ã€‚
    - path åŒ¹é…éç©ºå­—æ®µï¼ŒåŒ…æ‹¬è·¯å¾„åˆ†éš”ç¬¦ '/' ã€‚å®ƒå…è®¸ä½ åŒ¹é…å®Œæ•´çš„ URL è·¯å¾„è€Œä¸æ˜¯åƒ str é‚£æ ·åŒ¹é… URL çš„ä¸€éƒ¨åˆ†ã€‚

è¡¨å•
*************************
* **è¡¨å•ä»£ç æ”¾åœ¨åœ¨app/forms.py** django/contrib/auth/forms.py
* **forms.CharField**  è¡¨å•å­—ç¬¦ä¸²å­—æ®µ
  - labelå‚æ•°
  - max_lengthå‚æ•°
* **form.is_valid** éªŒè¯æ•°æ®
* **Formç±»** ğŸ”
* **ModelFormç±»** ğŸ”ğŸ”

-------------------------------------------------------------

è¡¨å•å­—æ®µ

* **required** è¦æŒ‡å®šä¸€ä¸ªå­—æ®µæ˜¯ ä¸å¿…å¡« çš„ï¼Œä¼ é€’ required=False ç»™ Field æ„é€ å‡½æ•°

-------------------------------------------------------------

éƒ¨ä»¶

* **PasswordInput** django.contri.auth.forms.UserCreationForm.password1 | pydqe.dqe.forms.DataSourceCreationForm.password ç­‰åŒäº<input type="password" ...>

åå°ç®¡ç†ç³»ç»Ÿ
*************************

* **registerè£…é¥°å™¨** ğŸ•ğŸ• django/contrib/auth/admin.py pydqe æ³¨å†Œæ¨¡å‹ç±»
* **admin.site.register** ğŸ•  æ³¨å†Œæ¨¡å‹ç±»

-------------------------------------------------------

* **ModelAdmin.form** åŠ¨æ€åˆ›å»ºä¸€ä¸ª ModelForm
* **ModelAdmin.get_form** è¿”å›ä¸€ä¸ª ModelForm ç±»
* **ModelAdmin.get_urls** ä¸ URLconf ç›¸åŒçš„æ–¹å¼è¿”å›ç”¨äºè¯¥ ModelAdmin çš„ URL | pydqe/dqe/admin.py

------------------------------------------------------

* **AdminSiteå¯¹è±¡** Djangoç®¡ç†ç«™ç‚¹çš„å®ä¾‹
* **site_header** è¦æ”¾åœ¨æ¯ä¸ªç®¡ç†é¡µé¢é¡¶éƒ¨çš„æ–‡å­—ï¼Œä½œä¸º <h1> ï¼ˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰ | pydqe/dqe/admin.py
* **å°†AdminSiteå®ä¾‹æŒ‚åˆ°ä½ çš„URLconfä¸­** æ³¨å†Œé»˜è®¤çš„adminsite
* **è¦†ç›–é»˜è®¤çš„ç®¡ç†ç«™ç‚¹** è¦†ç›–é»˜è®¤çš„ django.contrib.admin.site | pydqe/pydqe/admin.py
* **get_app_list** å¯ä»¥é‡å†™æ–¹æ³•ä»¥æ”¹å˜æ¨¡å‹æ’åºçš„é¡ºåºï¼Œé»˜è®¤æ˜¯æŒ‰å­—æ¯æ’åº

* è‡ªå®šä¹‰AdminSiteå¯¹è±¡ç±» å¯ä»¥è‡ªç”±åœ°å°† AdminSite å­ç±»åŒ–ï¼Œå¹¶è¦†ç›–æˆ–æ·»åŠ ä»»ä½•ä½ å–œæ¬¢çš„å†…å®¹

----------------------------------------------------------

* **ModelAdmin é™æ€èµ„æºå®šä¹‰** åœ¨æ·»åŠ ï¼æ›´æ”¹è§†å›¾æ—¶æ·»åŠ ä¸€ç‚¹ CSS å’Œï¼æˆ– JavaScriptã€‚ pydqe/dqe/admin.py

å®‰å…¨
*********************************************************

* **AJAXæºå¸¦CSRFä»¤ç‰Œ** åœ¨æ¯ä¸ª XMLHttpRequest ä¸Šï¼Œè®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰çš„ X-CSRFToken å¤´ä¸º CSRF æ ‡è®°çš„å€¼ | pydqe/dqe/static/admin/js/mu_code.js

é…ç½®
*********************************************************

* **DEFAULT_AUTO_FIELD** é»˜è®¤çš„ä¸»é”®å­—æ®µç±»å‹ï¼Œç”¨äºæ²¡æœ‰å¸¦æœ‰ primary_key=True å­—æ®µçš„æ¨¡å‹ã€‚é»˜è®¤ï¼š'django.db.models.AutoField'